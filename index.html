<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>まごのTEC</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

  <!-- ================================
       ホーム画面
       ================================ -->
  <div id="screen-home" class="screen">
    <!-- ヘッダー -->
    <header class="home-header">
      <div class="header-left">
        <span class="logo-text">まごのTEC</span>
      </div>
      <div class="header-right">
        <button class="settings-button" aria-label="設定">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"></path>
          </svg>
        </button>
      </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="home-main">
      <!-- キャラクター表示 -->
      <div class="home-character">
        <img
          src="assets/magonotec/character/hero_normal.png"
          alt="まごのTECキャラクター"
          class="home-character-image"
        >
      </div>

      <!-- 挨拶メッセージ -->
      <div class="home-greeting">
        <p class="greeting-text">こんにちは！<br>まごのTECだよ。</p>
        <p class="greeting-text">スマホやネットのことで、<br>なにか困ってない？</p>
      </div>

      <!-- メインボタン -->
      <button id="btn-start-chat" class="home-main-button">
        困りごとを相談する
      </button>

      <!-- サブリンク -->
      <div class="home-sublinks">
        <a href="#" id="link-howto" class="sublink">まごのTECの使い方</a>
        <a href="#" id="link-for-family" class="sublink">家族の方へ</a>
      </div>
    </main>
  </div>

  <!-- ================================
       チャット画面
       ================================ -->
  <div id="screen-chat" class="screen screen--hidden">
    <!-- ヘッダーエリア -->
    <header id="chat-header" class="chat-header">
      <div class="header-left">
        <button id="btn-back-home" class="back-button" aria-label="ホームに戻る">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"></path>
          </svg>
          <span class="back-text">戻る</span>
        </button>
      </div>
      <div class="header-center">
        <h1 class="header-title">お悩みチャット</h1>
      </div>
      <div class="header-right">
        <button id="btn-open-settings" class="settings-button" aria-label="設定">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v4M12 19v4M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M1 12h4M19 12h4M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"></path>
          </svg>
        </button>
      </div>
    </header>

    <!-- チャットヘルパー（カテゴリ選択UI） -->
    <div class="chat-helper">
      <p class="chat-helper__text">
        困っていることを、<br>
        一言で書いてみてね。
      </p>
      <div class="chat-helper__chips">
        <button class="chip" data-template="【スマホ本体】のことで困っています。">
          スマホ本体
        </button>
        <button class="chip" data-template="【電話やLINE】のことで困っています。">
          電話・LINE
        </button>
        <button class="chip" data-template="【写真やカメラ】のことで困っています。">
          写真・カメラ
        </button>
        <button class="chip" data-template="【お金や料金】のことで不安があります。">
          お金・料金
        </button>
        <button class="chip" data-template="どこが分からないかうまく言えませんが、困っています。">
          その他
        </button>
      </div>
      <!-- STEP17: 新しい相談を始めるボタン -->
      <button id="btn-new-chat" class="new-chat-button">
        新しい相談を始める
      </button>
    </div>

    <!-- チャットコンテンツラッパー（メッセージ + マスコット） -->
    <div class="chat-content-wrapper">
      <!-- メッセージ表示エリア（JavaScriptで動的に描画） -->
      <main id="chat-messages" class="chat-messages">
        <!-- メッセージはJavaScriptで描画されます -->
      </main>

      <!-- キャラエリア -->
      <div id="mascot-watcher" class="mascot-watcher">
        <img
          id="mascot-image"
          src="assets/magonotec/character/hero_normal.png"
          alt="まごのTECキャラクター"
          class="mascot-image"
          data-state="normal"
        >
      </div>
    </div>

    <!-- STEP15: 画像プレビューエリア -->
    <div id="image-preview-area" class="image-preview-area" style="display: none;">
      <div class="image-preview-container">
        <img id="image-preview" class="image-preview" src="" alt="選択した画像">
        <button id="btn-remove-image" class="image-remove-button" aria-label="画像を削除">✕</button>
      </div>
    </div>

    <!-- 入力エリア -->
    <footer id="chat-input-bar" class="chat-input-bar">
      <button class="mic-button" aria-label="音声入力">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
          <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
          <line x1="12" y1="19" x2="12" y2="23"></line>
          <line x1="8" y1="23" x2="16" y2="23"></line>
        </svg>
      </button>
      <!-- STEP15: 画像添付ボタン -->
      <button id="btn-attach-image" class="image-button" aria-label="画像を添付">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="8.5" cy="8.5" r="1.5"></circle>
          <polyline points="21 15 16 10 5 21"></polyline>
        </svg>
      </button>
      <input
        type="file"
        id="image-file-input"
        accept="image/*"
        style="display: none;"
      >
      <textarea
        id="message-input"
        class="message-input"
        placeholder="ここに困りごとを書いてください"
        rows="1"
      ></textarea>
      <button class="send-button" aria-label="送信">
        送信
      </button>
    </footer>
  </div>

  <!-- ================================
       まごのTECの使い方
       ================================ -->
  <div id="screen-howto" class="screen screen--hidden">
    <!-- ヘッダー -->
    <header class="guide-header">
      <div class="header-left">
        <button id="btn-back-from-howto" class="back-button" aria-label="ホームに戻る">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"></path>
          </svg>
          <span class="back-text">戻る</span>
        </button>
      </div>
      <div class="header-center">
        <h1 class="header-title">使い方</h1>
      </div>
      <div class="header-right">
        <!-- 空き領域（バランス用） -->
      </div>
    </header>

    <!-- コンテンツ -->
    <main class="guide-container">
      <h2 class="guide-title">まごのTECの使い方</h2>

      <p class="guide-paragraph">
        このアプリは、<br>
        スマホやネットの<br>
        「ちょっと困った」を、<br>
        まごが説明するみたいに、<br>
        ゆっくり案内するための<br>
        アプリです。
      </p>

      <h3 class="guide-subtitle">できること</h3>
      <ul class="guide-list">
        <li>スマホの操作で<br>困ったときの相談</li>
        <li>LINEやメールの<br>使い方の相談</li>
        <li>料金や迷惑メールが<br>不安なときの相談</li>
      </ul>

      <h3 class="guide-subtitle">かんたん 3ステップ</h3>
      <ol class="guide-list guide-list--ordered">
        <li>ホーム画面で<br>「困りごとを相談する」を押す</li>
        <li>困っていることを、<br>一言で書いて送る</li>
        <li>そのあと出てくる質問に、<br>ゆっくり答えていく</li>
      </ol>

      <p class="guide-paragraph">
        ことばにするのが<br>
        むずかしいときは、<br>
        むりにがんばらなくて<br>
        大丈夫です。
      </p>

      <p class="guide-paragraph">
        たとえば、
      </p>

      <p class="guide-example">
        「LINEの画面がかわった」<br>
        「写真がどこかに行った」
      </p>

      <p class="guide-paragraph">
        など、<br>
        思いついたことを、<br>
        そのまま書いてください。
      </p>

      <p class="guide-paragraph guide-paragraph--emphasis">
        いっしょに、<br>
        ゆっくり見ていきましょう。
      </p>

      <div class="guide-footer">
        <button id="btn-home-from-howto" class="guide-home-button">
          ホームにもどる
        </button>
      </div>
    </main>
  </div>

  <!-- ================================
       家族の方へ
       ================================ -->
  <div id="screen-for-family" class="screen screen--hidden">
    <!-- ヘッダー -->
    <header class="guide-header">
      <div class="header-left">
        <button id="btn-back-from-family" class="back-button" aria-label="ホームに戻る">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M19 12H5M12 19l-7-7 7-7"></path>
          </svg>
          <span class="back-text">戻る</span>
        </button>
      </div>
      <div class="header-center">
        <h1 class="header-title">家族の方へ</h1>
      </div>
      <div class="header-right">
        <!-- 空き領域（バランス用） -->
      </div>
    </header>

    <!-- コンテンツ -->
    <main class="guide-container">
      <h2 class="guide-title">家族の方へ</h2>

      <p class="guide-paragraph">
        このアプリは、<br>
        スマホやネットが苦手な<br>
        ご家族が、<br>
        「いまさら聞きづらいこと」を、<br>
        気楽に相談できるように<br>
        作りました。
      </p>

      <h3 class="guide-subtitle">めざしていること</h3>
      <ul class="guide-list">
        <li>失敗への不安を、<br>少しでも減らすこと</li>
        <li>お店やサポートに行く前に、<br>状況を整理してもらうこと</li>
        <li>家族が説明するときの負担を、<br>少しでも軽くすること</li>
      </ul>

      <h3 class="guide-subtitle">お願いしたいこと</h3>
      <ul class="guide-list">
        <li>最初だけ、<br>ホーム画面の開き方を、<br>いっしょに確認してあげてください。</li>
        <li>料金やIDなどの大事な情報は、<br>家族で共有しておいてください。</li>
        <li>ときどき<br>「ちゃんと使えてる？」と、<br>声をかけてあげてもらえると<br>うれしいです。</li>
      </ul>

      <p class="guide-paragraph guide-paragraph--emphasis">
        このアプリが、<br>
        ご家族どうしの会話の<br>
        きっかけになれば、<br>
        とてもうれしいです。
      </p>

      <div class="guide-footer">
        <button id="btn-home-from-family" class="guide-home-button">
          ホームにもどる
        </button>
      </div>
    </main>
  </div>

  <!-- ================================
       設定モーダル（STEP14）
       ================================ -->
  <div class="settings-modal" id="settings-modal" aria-hidden="true">
    <div class="settings-modal__backdrop" id="settings-modal-backdrop"></div>
    <div class="settings-modal__content">
      <h2 class="settings-modal__title">かんたん設定</h2>

      <div class="settings-group">
        <div class="settings-label">オート挨拶</div>
        <div class="settings-options">
          <label class="settings-radio">
            <input type="radio" name="autoGreeting" value="on">
            <span>ON</span>
          </label>
          <label class="settings-radio">
            <input type="radio" name="autoGreeting" value="off">
            <span>OFF</span>
          </label>
        </div>
      </div>

      <div class="settings-group">
        <div class="settings-label">マスコット表示</div>
        <div class="settings-options">
          <label class="settings-radio">
            <input type="radio" name="mascotVisible" value="on">
            <span>表示する</span>
          </label>
          <label class="settings-radio">
            <input type="radio" name="mascotVisible" value="off">
            <span>表示しない</span>
          </label>
        </div>
      </div>

      <div class="settings-group">
        <div class="settings-label">文字の大きさ</div>
        <div class="settings-options">
          <label class="settings-radio">
            <input type="radio" name="fontSize" value="normal">
            <span>ふつう</span>
          </label>
          <label class="settings-radio">
            <input type="radio" name="fontSize" value="large">
            <span>大きめ</span>
          </label>
        </div>
      </div>

      <div class="settings-actions">
        <button id="btn-settings-close" class="settings-close-button">とじる</button>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
